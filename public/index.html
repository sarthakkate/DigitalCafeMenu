<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasty Corner - Cafe Menu</title>
    <style>
        /* CSS styles embedded directly */
        body {
            font-family: 'Inter', sans-serif; /* Using Inter font */
            margin: 0;
            padding: 20px;
            background-color: #F5F5DC; /* Light Beige/Cream for a warm brown feel */
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better scrolling on small screens */
            min-height: 100vh; /* Ensure it takes full viewport height */
            box-sizing: border-box; /* Include padding in element's total width and height */
        }

        .container {
            width: 100%;
            max-width: 600px;
            background: #FFFFFF; /* White background for content */
            padding: 20px;
            border-radius: 12px; /* More rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
        }

        .cafe-name {
            text-align: center;
            font-family: 'Georgia', serif; /* A more classic font for cafe name */
            font-size: 2.5em;
            color: #8B4513; /* SaddleBrown for the cafe name */
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        h1, h2, h3 {
            text-align: center;
            color: #333;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 1.8em; /* Slightly larger for emphasis */
            color: #696969; /* Darker grey for table number */
            margin-bottom: 25px;
        }

        h2 {
            border-bottom: 2px solid #D2B48C; /* Tan border */
            padding-bottom: 10px;
            margin-top: 30px;
            font-size: 1.4em;
            color: #5C4033; /* Darker brown for section titles */
        }

        h3 {
            font-size: 1.2em;
            color: #5C4033; /* Darker brown for sub-section titles */
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: left; /* Align section titles to left */
        }

        .menu-section {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #E0D8C0; /* Lighter brown border */
            border-radius: 8px;
            background-color: #FFFAF0; /* Floral White for menu section background */
        }

        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #F0EAD6; /* Very light brown border */
        }

        .menu-item:last-child {
            border-bottom: none; /* No border for the last item */
        }

        .item-name {
            font-size: 1.1em;
            font-weight: 500;
            color: #333;
            flex-grow: 1; /* Allows name to take available space */
        }
        
        .item-price {
            font-size: 1em;
            font-weight: bold;
            color: #5C4033; /* Darker brown for price */
            margin-right: 15px; /* Space between price and controls */
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            background-color: #E6E0D4; /* Light brown background for controls */
            border-radius: 20px;
            overflow: hidden;
        }

        .quantity-controls button {
            background-color: #A0522D; /* Sienna for buttons */
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%; /* Make them perfectly round */
            font-size: 1.4em; /* Larger font for buttons */
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            margin: 0 2px; /* Small margin between buttons */
        }

        .quantity-controls button:hover {
            background-color: #8B4513; /* Darker brown on hover */
            transform: translateY(-1px);
        }

        .quantity-controls button:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .quantity {
            font-size: 1.1em;
            font-weight: bold;
            width: 30px; /* Wider to accommodate 2 digits */
            text-align: center;
            color: #333;
        }

        .total-section {
            text-align: right;
            font-size: 1.4em; /* Larger total price */
            font-weight: bold;
            margin-top: 30px;
            padding-top: 15px;
            border-top: 2px solid #D2B48C; /* Tan border */
            color: #A0522D; /* Sienna for total price */
        }

        .notes-section {
            margin-top: 25px;
        }

        .notes-section label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #5C4033; /* Darker brown for label */
        }

        textarea {
            width: 100%;
            height: 100px;
            padding: 12px;
            margin-top: 5px;
            border: 1px solid #D2B48C; /* Tan border */
            border-radius: 8px;
            font-size: 1em;
            resize: vertical; /* Allow vertical resizing */
            box-sizing: border-box; /* Include padding in width */
            background-color: #FFFAF0; /* Floral White background */
        }

        .place-order-btn, .attention-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            font-size: 1.2em;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .place-order-btn {
            background-color: #4CAF50; /* Green for success, slightly muted */
        }

        .place-order-btn:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }
        .place-order-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }


        .attention-btn {
            background-color: #FF6347; /* Tomato red for attention */
            margin-bottom: 20px; /* Adjusted margin */
        }

        .attention-btn:hover {
            background-color: #E5533D;
            transform: translateY(-2px);
        }
        .attention-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .whatsapp-contact {
            text-align: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #E0D8C0;
            font-size: 1em;
            color: #5C4033;
        }

        .whatsapp-contact a {
            color: #25D366; /* WhatsApp green */
            text-decoration: none;
            font-weight: bold;
        }

        .whatsapp-contact a:hover {
            text-decoration: underline;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 15px;
                border-radius: 0; /* No border-radius on very small screens for full width */
                box-shadow: none; /* No shadow on very small screens */
            }
            .cafe-name {
                font-size: 2em;
            }
            h1 {
                font-size: 1.6em;
            }
            h2 {
                font-size: 1.2em;
            }
            .menu-item {
                flex-direction: column; /* Stack name/price and controls on small screens */
                align-items: flex-start;
            }
            .item-name, .item-price {
                margin-bottom: 5px;
            }
            .quantity-controls {
                width: 100%; /* Make controls full width */
                justify-content: center; /* Center buttons */
            }
            .quantity-controls button {
                width: 40px; /* Slightly larger touch targets */
                height: 40px;
                font-size: 1.6em;
            }
            .quantity {
                width: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="cafe-name">Tasty Corner</div>
        <h1 id="table-number">Table No: Loading...</h1>
        
        <h2>Our Menu</h2>

        <!-- IMPORTANT: Replace 'https://formspree.io/f/your-form-id' with your actual Formspree endpoint for the ATTENTION button! -->
        <!-- The Place Order button now sends to WhatsApp -->
        <form id="order-form" onsubmit="return false;"> <!-- Prevent default form submission -->
            <input type="hidden" id="table-input" name="Table Number">
            <input type="hidden" name="Order Details" id="order-details-input">
            <input type="hidden" name="Total Price" id="final-total-price-input">

            <div class="menu-section">
                <h3>Snacks</h3>
                <div class="menu-item" data-price="99.00">
                    <span class="item-name">Fries</span>
                    <span class="item-price">â‚¹99.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="120.00">
                    <span class="item-name">Onion Rings</span>
                    <span class="item-price">â‚¹120.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="70.00">
                    <span class="item-name">Garlic Bread</span>
                    <span class="item-price">â‚¹70.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
            </div>

            <div class="menu-section">
                <h3>Burgers</h3>
                <div class="menu-item" data-price="180.00">
                    <span class="item-name">Classic Burger</span>
                    <span class="item-price">â‚¹180.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="200.00">
                    <span class="item-name">Veggie Burger</span>
                    <span class="item-price">â‚¹200.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="220.00">
                    <span class="item-name">Chicken Burger</span>
                    <span class="item-price">â‚¹220.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
            </div>

            <div class="menu-section">
                <h3>Pizzas</h3>
                <div class="menu-item" data-price="350.00">
                    <span class="item-name">Margherita Pizza</span>
                    <span class="item-price">â‚¹350.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="420.00">
                    <span class="item-name">Pepperoni Pizza</span>
                    <span class="item-price">â‚¹420.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
            </div>

            <div class="menu-section">
                <h3>Cold Drinks</h3>
                <div class="menu-item" data-price="50.00">
                    <span class="item-name">Coca-Cola</span>
                    <span class="item-price">â‚¹50.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="50.00">
                    <span class="item-name">Sprite</span>
                    <span class="item-price">â‚¹50.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
            </div>

            <div class="menu-section">
                <h3>Special Items</h3>
                <div class="menu-item" data-price="150.00">
                    <span class="item-name">Chef's Special Pasta</span>
                    <span class="item-price">â‚¹150.00</span>
                    <div class="quantity-controls">
                        <button type="button" class="minus-btn">-</button>
                        <span class="quantity">0</span>
                        <button type="button" class="plus-btn">+</button>
                    </div>
                </div>
            </div>


            <div class="total-section">
                <h4>Total Price: â‚¹<span id="total-price">0.00</span></h4>
            </div>

            <div class="notes-section">
                <label for="notes">Special Notes:</label>
                <textarea id="notes" name="Special Notes" placeholder="e.g., 'no onions on the burger', 'extra ice for drinks'"></textarea>
            </div>
            
            <button type="submit" class="place-order-btn">Place Order</button>
            <p style="text-align: center; font-size: 0.9em; color: #8B4513; margin-top: 5px;">
                (Your order will be sent to us via WhatsApp)
            </p>
        </form>

        <!-- The "Call for Attention" form is now set to prevent default submission
             and show a message instead. -->
        <form id="attention-form" onsubmit="return false;">
            <input type="hidden" id="table-attention-input" name="Table Number">
            <input type="hidden" name="Request" value="Needs assistance!">
            <button type="submit" class="attention-btn">Call for Attention</button>
        </form>

        <div class="whatsapp-contact">
            For urgent assistance, contact us on WhatsApp: 
            <a href="https://wa.me/918888749134" target="_blank">+91 8888749134</a>
        </div>
    </div>

    <script>
        // JavaScript embedded directly
        document.addEventListener('DOMContentLoaded', () => {
            const tableNumberElement = document.getElementById('table-number');
            const tableInput = document.getElementById('table-input');
            const tableAttentionInput = document.getElementById('table-attention-input');
            const totalElement = document.getElementById('total-price');
            const orderDetailsInput = document.getElementById('order-details-input');
            const finalTotalPriceInput = document.getElementById('final-total-price-input'); // New hidden input for final total
            const notesInput = document.getElementById('notes'); // Get the notes textarea
            const placeOrderBtn = document.querySelector('.place-order-btn'); // Get the place order button
            const attentionBtn = document.querySelector('.attention-btn'); // Get the attention button

            // --- Owner's WhatsApp Number ---
            const ownerWhatsAppNumber = '918888749134'; // Indian number without '+'

            // --- Get table number from URL ---
            const urlParams = new URLSearchParams(window.location.search);
            const tableNo = urlParams.get('table');
            
            if (tableNo) {
                tableNumberElement.textContent = `Table No: ${tableNo}`;
                tableInput.value = tableNo;
                tableAttentionInput.value = tableNo;
            } else {
                tableNumberElement.textContent = `Table No: (Not Found - Please scan QR)`;
            }

            // --- Handle quantity and price updates ---
            const menuItems = document.querySelectorAll('.menu-item');
            let total = 0;

            function updateTotal() {
                totalElement.textContent = total.toFixed(2);
                finalTotalPriceInput.value = total.toFixed(2); // Update the hidden input
            }

            function updateOrderDetails() {
                let details = '';
                menuItems.forEach(item => {
                    const itemName = item.querySelector('.item-name').textContent.split('(')[0].trim(); // Get just the name
                    const quantity = parseInt(item.querySelector('.quantity').textContent);
                    if (quantity > 0) {
                        details += `${itemName} (x${quantity}), `;
                    }
                });
                // Remove trailing comma and space if there are items
                orderDetailsInput.value = details.length > 0 ? details.slice(0, -2) : '';
            }

            menuItems.forEach(item => {
                const plusBtn = item.querySelector('.plus-btn');
                const minusBtn = item.querySelector('.minus-btn');
                const quantitySpan = item.querySelector('.quantity');
                const price = parseFloat(item.getAttribute('data-price'));

                plusBtn.addEventListener('click', () => {
                    let quantity = parseInt(quantitySpan.textContent);
                    if (quantity < 10) { // Max limit of 10
                        quantity++;
                        quantitySpan.textContent = quantity;
                        total += price;
                        updateTotal();
                        updateOrderDetails();
                    }
                });

                minusBtn.addEventListener('click', () => {
                    let quantity = parseInt(quantitySpan.textContent);
                    if (quantity > 0) { // Cannot go below 0
                        quantity--;
                        quantitySpan.textContent = quantity;
                        total -= price;
                        updateTotal();
                        updateOrderDetails();
                    }
                });
            });

            // --- Handle Place Order button click (WhatsApp) ---
            placeOrderBtn.addEventListener('click', (event) => {
                event.preventDefault(); // Prevent the form from submitting normally

                const currentTableNo = tableInput.value;
                const currentOrderDetails = orderDetailsInput.value;
                const currentTotalPrice = totalElement.textContent; // Get formatted total
                const currentNotes = notesInput.value.trim();

                if (!currentOrderDetails && !currentNotes) {
                    // Using a simple alert for demonstration. In a real app, you might use a custom modal.
                    alert('Please select some items or add notes before placing an order.');
                    return;
                }

                let whatsappMessage = `*New Order from Tasty Corner*\n`;
                whatsappMessage += `*Table No:* ${currentTableNo}\n`;
                whatsappMessage += `*Order:* ${currentOrderDetails}\n`;
                whatsappMessage += `*Total:* â‚¹${currentTotalPrice}\n`;
                if (currentNotes) {
                    whatsappMessage += `*Notes:* ${currentNotes}\n`;
                }
                whatsappMessage += `\n_Please confirm this order with the customer._`;

                // Encode the message for URL
                const encodedMessage = encodeURIComponent(whatsappMessage);
                const whatsappUrl = `https://wa.me/${ownerWhatsAppNumber}?text=${encodedMessage}`;

                // Open WhatsApp in a new tab
                window.open(whatsappUrl, '_blank');
            });

            // --- Handle Call for Attention button click (Coming Soon message) ---
            attentionBtn.addEventListener('click', (event) => {
                event.preventDefault(); // Prevent the form from submitting normally
                // Instead of sending a Formspree request, display a message
                alert('The "Call for Attention" feature is currently being worked on and will be unlocked soon! Thank you for your patience.');
                // For a better user experience, you might replace alert() with a custom modal or a temporary message on the page.
            });

            // Initial update for order details and total
            updateTotal();
            updateOrderDetails();
        });
    </script>
</body>
</html>
